 <%-- Master Page for the poject Start --%>
 
 

<%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Site1.master.cs" Inherits="TestApplication.Site1" %>

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Employee Repository</title>
    <link href="css/MasterPage.css" rel="stylesheet" />
    <asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server">
    </asp:ContentPlaceHolder>
</head>
<body>
    <nav id="nav">
        <ul>
            <li></li>
            <li onclick="openProcess(event, 'Process2')" style="background-color: #ec0000; color: white"><a href="#" style="color: white">Employee Repository</a></li>
        </ul>
    </nav>
    <form id="form1" runat="server">
        <asp:ScriptManager ID="ScriptManager1" runat="server"></asp:ScriptManager>
        <div id="con" style="padding: 1%">
            <asp:ContentPlaceHolder ID="ContentPlaceHolder2" runat="server">
            </asp:ContentPlaceHolder>
        </div>
    </form>

    <footer id="footer">
        <span style="color: white">copyright @Sandeep Chauhan</span>
    </footer>
</body>
</html>

 <%--  End --%>


 <%-- Aspx page for creating user CreateUserDetail Start --%>


<%@ Page Title="" Language="C#" MasterPageFile="~/Site1.Master" AutoEventWireup="true" CodeBehind="CreateUserDetail.aspx.cs" Inherits="TestApplication.CreateUserDetail" %>

<asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder2" runat="server">
    <link href="Content/bootstrap.css" rel="stylesheet" />
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <link href="Content/Site.css" rel="stylesheet" />
    <script src="scripts/bootstrap-datepicker.js"></script>
    <script src="scripts/jquery.validate.js"></script>
    <script src="scripts/jquery.validate.unobtrusive.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />
    <script src="scripts/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <style>
        ul.tab {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }

            /* Float the list items side by side */
            ul.tab li {
                /*float: left;*/
            }

                /* Style the links inside the list items */
                ul.tab li a {
                    display: inline-block;
                    color: black;
                    text-align: center;
                    padding: 14px 16px;
                    text-decoration: none;
                    transition: 0.3s;
                    font-size: 17px;
                }

                    /* Change background color of links on hover */
                    ul.tab li a:hover {
                        background-color: #ddd;
                    }

                    /* Create an active/current tablink class */
                    ul.tab li a:focus, .active {
                        background-color: #ccc;
                    }

        /* Style the tab content */
        .tabcontent {
            display: none;
            padding: 6px 12px;
            border: 1px solid #ccc;
            border-top: none;
        }


        .completionList {
            list-style-type: none;
            padding-left: 0px;
            background-color: white;
            font-family: Arial, Helvetica, Sans-Serif;
            font-size: 18px;
            border: 1px solid #578910;
            margin-top: 2px;
            height: 200px;
            width: 25% !important;
        }

        .completionListItem {
            background-color: White;
            padding: 5px 5px 5px 7px;
            border-top: 1px solid #578910;
            width: 25% !important;
        }

        .completionListHighlightedItem {
            background-color: #578910;
            color: White;
            padding: 5px 5px 5px 7px;
        }

        .input1 {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 14pt;
            padding: 5px;
            margin: 0px;
        }

        #AutoCompleteElement {
            width: 25% !important;
        }

            #AutoCompleteElement div {
                width: 25% !important;
            }
    </style>
    <script>

        window.onload = function () {
            startTab();
        };

        function startTab() {
            document.getElementById("defaultOpen").click();

        }

        function openProcess(evt, processName) {

            // Declare all variables
            var i, tabcontent, tablinks;

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }

            // Show the current tab, and add an "active" class to the link that opened the tab
            document.getElementById(processName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        $(document).ready(function () {
            $(".datepicker").datepicker({
                dateFormat: "dd-mm-yy",
                changemonth: true,
                changeyear: true
            });
        });
    </script>
    <div id="divCheck" runat="server">
        <div id="div2">
            <ul class="tab">
                <li><a href="javascript:void(0)" class="tablinks"
                    onclick="openProcess(event, 'Process1')"
                    id="defaultOpen">Add New Employee</a></li>
                <li><a href="javascript:void(0)" class="tablinks"
                    onclick="openProcess(event, 'Process2')">Employee Register</a></li>
            </ul>
        </div>
        <div id="Process1" class="tabcontent">
            <asp:UpdatePanel ID="UpdatePanel2" runat="server" UpdateMode="Conditional">
                <ContentTemplate>
                    <div class="container">
                        <div class="row">
                            <asp:Label runat="server" ID="lblErrorMassage" Visible="false" ForeColor="Red" CssClass="control-label"></asp:Label>                       
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblrefre" CssClass="control-label">E-Number<span style="color:red">*</span></asp:Label>
                                        <asp:TextBox runat="server" ID="txtrefre" ClientIDMode="Static" CssClass="form-control"></asp:TextBox>
                                        <asp:Label runat="server" ID="lblCheckValue" Style="display: none; color: red"></asp:Label>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblStaffNumber" CssClass="control-label">Staff Number<span style="color:red">*</span></asp:Label>
                                        <asp:TextBox runat="server" ID="txtStaffNumber" CssClass="form-control"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblFirstName" CssClass="control-label">firstName<span style="color:red">*</span></asp:Label>
                                        <asp:TextBox runat="server" ID="txtFirstName" CssClass="form-control"></asp:TextBox>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblMiddilename1" CssClass="control-label">Middle Name 1</asp:Label>
                                        <asp:TextBox runat="server" ID="txtmiddlename1" CssClass="form-control"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblMiddlename2" CssClass="control-label">Middle Name 2</asp:Label>
                                        <asp:TextBox runat="server" ID="txtmiddlename2" CssClass="form-control"></asp:TextBox>

                                    </div>
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblLastname" CssClass="control-label">Last Name<span style="color:red">*</span></asp:Label>
                                        <asp:TextBox runat="server" ID="txtlastName" CssClass="form-control"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblAddress1" CssClass="control-label">House Name</asp:Label>
                                        <asp:TextBox runat="server" ID="txtAddress1" CssClass="form-control"></asp:TextBox>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblAddress2" CssClass="control-label">Street</asp:Label>
                                        <asp:TextBox runat="server" ID="txtAddress2" CssClass="form-control"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblAddress3" CssClass="control-label">Parish</asp:Label>
                                        <asp:TextBox runat="server" ID="txtAddress3" CssClass="form-control"></asp:TextBox>

                                    </div>
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblAddress4" CssClass="control-label">Jurisdiction</asp:Label>
                                        <asp:TextBox runat="server" ID="txtAddress4" CssClass="form-control"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblAddress5" CssClass="control-label">Post Code</asp:Label>
                                        <asp:TextBox runat="server" ID="txtAddress5" CssClass="form-control"></asp:TextBox>

                                    </div>
                                     <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblBusinessMobile" CssClass="control-label">Business Mobile<span style="color:red">*</span> </asp:Label>
                                        <asp:TextBox runat="server" ID="txtBusinessMobile" CssClass="form-control"></asp:TextBox>
                                    </div>
                                </div>    
                                <div class="row">                                
                                    <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblAccountIdentifier" CssClass="control-label">Account Identifier<span style="color:red">*</span></asp:Label>
                                        <asp:DropDownList runat="server" ID="ddlAccountIdentifier" CssClass="form-control">
                                            <asp:ListItem Value="Select" Text="Select"></asp:ListItem>
                                            <asp:ListItem Value="Perm" Selected="True"  Text="Perm"></asp:ListItem>
                                            <asp:ListItem Value="Contractor" Text="Contractor"></asp:ListItem>
                                            <asp:ListItem Value="Intern" Text="Intern"></asp:ListItem>
                                            <asp:ListItem Value="FTC" Text="FTC"></asp:ListItem>
                                        </asp:DropDownList>
                                    </div>
                                     <div class="form-group col-md-6">
                                        <asp:Label runat="server" ID="lblEmailId" CssClass="control-label">Business Email Address<span style="color:red">*</span></asp:Label>
                                        <asp:TextBox runat="server" ID="txtEmailID" ClientIDMode="Static" AutoPostBack="true" CssClass="form-control"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <asp:Button ID="btnSave" runat="server" OnClick="btnSave_Click" Text="Submit" class="btn btn-primary pull-right" />
                                    </div>
                                    <div class="form-group col-md-6">
                                        <asp:Button ID="btnClear" runat="server" OnClick="btnClear_Click" Text="Reset" class="btn btn-primary pull-left" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </ContentTemplate>
            </asp:UpdatePanel>
        </div>

        <div id="Process2" class="tabcontent">        
            <div id="dvGrid" style="padding: 10px; width: 100%">
                <asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
                    <ContentTemplate>
                        <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="false"
                            DataKeyNames="AutoID" OnRowCommand="GridView1_RowCommand"
                            PageSize="30" AllowPaging="true"
                            EmptyDataText="No records has been added."
                            CssClass="table table-striped table-bordered" Width="100%">
                            <Columns>
                                <asp:TemplateField HeaderText="C-Number" ItemStyle-Width="150">
                                    <ItemTemplate>
                                        <asp:Label ID="lblName" runat="server" Text='<%# Eval("EMP_Number") %>'></asp:Label>
                                    </ItemTemplate>
                                </asp:TemplateField>
                                <asp:TemplateField HeaderText="First Name" ItemStyle-Width="150">
                                    <ItemTemplate>
                                        <asp:Label ID="Label1" runat="server" Text='<%# Eval("EMP_FirstName") %>'></asp:Label>
                                    </ItemTemplate>

                                </asp:TemplateField>
                                <asp:TemplateField HeaderText="Last Name" ItemStyle-Width="150">
                                    <ItemTemplate>
                                        <asp:Label ID="Label2" runat="server" Text='<%# Eval("EMP_LastName") %>'></asp:Label>
                                    </ItemTemplate>
                                </asp:TemplateField>
                                <asp:TemplateField HeaderText="Email Address" ItemStyle-Width="150">
                                    <ItemTemplate>
                                        <asp:Label ID="Label3" runat="server" Text='<%# Eval("EMP_EmailID") %>'></asp:Label>
                                    </ItemTemplate>
                                </asp:TemplateField>
                                <asp:TemplateField HeaderText="UPN" ItemStyle-Width="150">
                                    <ItemTemplate>
                                        <asp:Label ID="Label4" runat="server" Text='<%# Eval("AccountIdentifier") %>'></asp:Label>
                                    </ItemTemplate>
                                </asp:TemplateField>                              
                                <asp:TemplateField HeaderText="" ItemStyle-Width="150">
                                    <ItemTemplate>
                                        <asp:LinkButton ID="lnkEMP_ID" runat="server" CommandName="Edit1" CommandArgument='<%# Eval("AutoID") %>' Text="Edit"></asp:LinkButton>
                                    </ItemTemplate>
                                </asp:TemplateField>
                                <asp:TemplateField HeaderText="" ItemStyle-Width="150">
                                    <ItemTemplate>
                                        <asp:LinkButton ID="lnkEMPList_ID" runat="server" CommandName="Delete1" CommandArgument='<%# Eval("AutoID") %>' Text="Delete"></asp:LinkButton>
                                    </ItemTemplate>
                                </asp:TemplateField>
                            </Columns>
                        </asp:GridView>
                    </ContentTemplate>
                </asp:UpdatePanel>
            </div>
        </div>
    </div>
</asp:Content>

 <%--  End --%>
 
//=== .cs page for CreateUserDetail====//
using System;
using System.Collections.Generic;
using System.Data;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace TestApplication
{
    public partial class CreateUserDetail : System.Web.UI.Page
    {
        DataTable dt = new DataTable();
        bool bResult = true;
        bool Authenticate = true;
        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                dt = GetTable();
                Session["GridRecord"] = dt;
            }
        }
        static DataTable GetTable()
        {
            // Step 2: here we create a DataTable.
            // ... We add 4 columns, each with a Type.
            DataTable table = new DataTable();
            DataColumn columnAutoID = new DataColumn("AutoID", typeof(int));
            columnAutoID.AutoIncrement = true;
            columnAutoID.AutoIncrementSeed = 1;
            table.Columns.Add(columnAutoID);
            table.Columns.Add("EMP_Number", typeof(string));
            table.Columns.Add("EMP_StaffNumber", typeof(string));
            table.Columns.Add("EMP_FirstName", typeof(string));
            table.Columns.Add("EMP_Middlename1", typeof(string));
            table.Columns.Add("EMP_Middlename2", typeof(string));
            table.Columns.Add("EMP_Lastname", typeof(string));
            table.Columns.Add("EMP_Address1", typeof(string));
            table.Columns.Add("EMP_Address2", typeof(string));
            table.Columns.Add("EMP_Address3", typeof(string));
            table.Columns.Add("EMP_Address4", typeof(string));
            table.Columns.Add("EMP_Address5", typeof(string));
            table.Columns.Add("EMP_EmailID", typeof(string));
            table.Columns.Add("BusinessMobile", typeof(string));
            table.Columns.Add("AccountIdentifier", typeof(string));

            //   table.Columns.Add("EMP_dob", typeof(DateTime));


            return table;
        }
        protected void btnSave_Click(object sender, EventArgs e)
        {
            bool blnVal = true;
            int id = 0;
            id = Convert.ToInt32(Session["Emp_ID"]);
            validation(id);
            if (blnVal == true)
            {
                try
                {
                    if (id == 0)
                    {
                       
                             dt = (DataTable)Session["GridRecord"];
                     
                        if (dt.Rows.Count == 0)
                        {
                              dt = GetTable();
                        }

                        DataRow row = dt.NewRow();
                        row["EMP_Number"] = txtrefre.Text.Trim();
                        row["EMP_StaffNumber"] = txtStaffNumber.Text.Trim();
                        row["EMP_FirstName"] = txtFirstName.Text.Trim();
                        row["EMP_Middlename1"] = txtmiddlename1.Text.Trim();
                        row["EMP_Middlename2"] = txtmiddlename2.Text.Trim();
                        row["EMP_Lastname"] = txtlastName.Text.Trim();
                        row["EMP_Address1"] = txtAddress1.Text.Trim();
                        row["EMP_Address2"] = txtAddress2.Text.Trim();
                        row["EMP_Address3"] = txtAddress3.Text.Trim();
                        row["EMP_Address4"] = txtAddress4.Text.Trim();
                        row["EMP_Address5"] = txtAddress5.Text.Trim();
                        row["EMP_EmailID"] = txtEmailID.Text.Trim();
                        row["BusinessMobile"] = txtBusinessMobile.Text.Trim();
                        row["AccountIdentifier"] = ddlAccountIdentifier.SelectedValue.Trim();

                        dt.Rows.Add(row);

                        Session["GridRecord"] = dt;
                        ScriptManager.RegisterStartupScript(this, this.GetType(), "myalert5", "alert('Inserted successfully.');", true);
                        UpdatePanel2.Update();
                        BindGrid();
                        ScriptManager.RegisterStartupScript(this, this.GetType(), "myalert3", "openProcess(event, 'Process2');", true);
                        UpdatePanel1.Update();
                    }
                    else
                    {

                        DataTable dp = (DataTable)Session["GridRecord"];
                        DataRow[] rows = dp.Select("AutoID =" + id);
                        if (rows.Length > 0)
                        {
                            foreach (DataRow row in rows)
                            {

                                row["EMP_Number"] = txtrefre.Text.Trim();
                                row["EMP_StaffNumber"] = txtStaffNumber.Text.Trim();
                                row["EMP_FirstName"] = txtFirstName.Text.Trim();
                                row["EMP_Middlename1"] = txtmiddlename1.Text.Trim();
                                row["EMP_Middlename2"] = txtmiddlename2.Text.Trim();
                                row["EMP_Lastname"] = txtlastName.Text.Trim();
                                row["EMP_Address1"] = txtAddress1.Text.Trim();
                                row["EMP_Address2"] = txtAddress2.Text.Trim();
                                row["EMP_Address3"] = txtAddress3.Text.Trim();
                                row["EMP_Address4"] = txtAddress4.Text.Trim();
                                row["EMP_Address5"] = txtAddress5.Text.Trim();
                                row["EMP_EmailID"] = txtEmailID.Text.Trim();
                                row["BusinessMobile"] = txtBusinessMobile.Text.Trim();
                                row["AccountIdentifier"] = ddlAccountIdentifier.SelectedValue.Trim();
                                dp.AcceptChanges();
                                row.SetModified();
                            }
                        }
                        Session["GridRecord"] = dp;
                        BindGrid();
                        ScriptManager.RegisterStartupScript(this, this.GetType(), "myalert3", "openProcess(event, 'Process2');", true);
                        UpdatePanel1.Update();
                    }


                }
                catch (Exception ex)
                {

                    ex.ToString();
                }

            }
        }
        private void BindGrid()
        {
            DataTable dp = (DataTable)Session["GridRecord"];


            GridView1.DataSource = dp;
            //  GridView1.DataValueField = "ID";
            GridView1.DataBind();
        }

        public bool validation(int id)
        {
            string strMsessage = String.Empty;
            bResult = true;
            if (txtrefre.Text.Trim() != "")
            {
                if (txtrefre.Text.ToString().StartsWith("E") || txtrefre.Text.ToString().StartsWith("C"))
                {
                    if (txtrefre.Text.ToString().Length > 9)
                    {
                        if (txtrefre.Text.ToString().Contains("A"))
                        {
                            if (txtrefre.Text.ToString().Length.ToString() == "11")
                            {

                            }
                            else
                            {
                                if (Convert.ToInt32(txtrefre.Text.ToString().Length.ToString()) > 11)
                                {
                                    strMsessage = strMsessage + "<br/>" + "Unique Reference Number is greater than 11 digit";
                                }
                                else
                                {
                                    strMsessage = strMsessage + "<br/>" + "Unique Reference Number is less than 11 digit";
                                }
                                bResult = false;
                            }
                        }
                    }
                    else
                    {
                        if (txtrefre.Text.ToString().Length.ToString() == "9")
                        {

                        }
                        else
                        {
                            if (Convert.ToInt32(txtrefre.Text.ToString().Length.ToString()) > 9)
                            {
                                strMsessage = strMsessage + "<br/>" + "Unique Reference Number is greater than 9 digit";
                            }
                            else
                            {
                                strMsessage = strMsessage + "<br/>" + "Unique Reference Number is less than 9 digit";
                            }
                            bResult = false;
                        }
                    }

                }
                else
                {
                    strMsessage = strMsessage + "<br/>" + "Please check Unique Reference Number, It should start with E or C";
                    bResult = false;
                }
            }
            else
            {
                strMsessage = strMsessage + "<br/>" + "Enter Unique Reference Number";
                bResult = false;

            }





            if (ddlAccountIdentifier.SelectedValue == "0")
            {
                strMsessage = strMsessage + "<br/>" + "Please select Account Identifier";
                bResult = false;
            }


            if (id != 0)
            {
                if (txtEmailID.Text.ToString() == "")
                {
                    strMsessage = strMsessage + "<br/>" + "Please enter Email-ID";
                    bResult = false;
                }
            }




            if (txtFirstName.Text.ToString().Trim() == "")
            {
                strMsessage = strMsessage + "<br/>" + "Please enter first name";
                bResult = false;
            }
            if (txtlastName.Text.ToString().Trim() == "")
            {
                strMsessage = strMsessage + "<br/>" + "Please enter last name";
                bResult = false;
            }
            if (txtAddress1.Text.ToString().Trim() == "")
            {
                strMsessage = strMsessage + "<br/>" + "Please enter Address 1";
                bResult = false;
            }
            if (txtAddress2.Text.ToString().Trim() == "")
            {
                strMsessage = strMsessage + "<br/>" + "Please enter Address 2";
                bResult = false;
            }
            if (txtAddress3.Text.ToString().Trim() == "")
            {
                strMsessage = strMsessage + "<br/>" + "Please enter Address 3";
                bResult = false;
            }
            if (txtAddress4.Text.ToString().Trim() == "")
            {
                strMsessage = strMsessage + "<br/>" + "Please enter Address 4";
                bResult = false;
            }
            if (txtAddress5.Text.ToString().Trim() == "")
            {
                strMsessage = strMsessage + "<br/>" + "Please enter Address 5";
                bResult = false;
            }




            if (strMsessage != "")
            {
                lblErrorMassage.Text = strMsessage.ToString();
                lblErrorMassage.Visible = true;
            }
            return bResult;
        }

        protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)
        {
            Session["Emp_ID"] = 0;
            if (e.CommandName == "Edit1")
            {
                int index = Convert.ToInt32(e.CommandArgument);
                Session["Emp_ID"] = index;

                DataTable dp = (DataTable)Session["GridRecord"];
                if (dp.Rows.Count > 0)
                {
                    foreach (DataRow row in dp.Rows)
                    {
                        if (index == Convert.ToInt32(row["AutoID"].ToString()))
                        {
                            txtrefre.Text = row["EMP_Number"].ToString();
                            txtStaffNumber.Text = row["EMP_StaffNumber"].ToString();
                            txtFirstName.Text = row["EMP_FirstName"].ToString();
                            txtmiddlename1.Text = row["EMP_Middlename1"].ToString();
                            txtmiddlename2.Text = row["EMP_Middlename2"].ToString();
                            txtlastName.Text = row["EMP_Lastname"].ToString();
                            txtAddress1.Text = row["EMP_Address1"].ToString();
                            txtAddress2.Text = row["EMP_Address2"].ToString();
                            txtAddress3.Text = row["EMP_Address3"].ToString();
                            txtAddress4.Text = row["EMP_Address4"].ToString();
                            txtAddress5.Text = row["EMP_Address5"].ToString();
                            txtEmailID.Text = row["EMP_EmailID"].ToString();
                            txtBusinessMobile.Text = row["BusinessMobile"].ToString();
                            ddlAccountIdentifier.SelectedValue = row["AccountIdentifier"].ToString();
                        }
                    }
                }
                ScriptManager.RegisterStartupScript(this, this.GetType(), "myalert3", "openProcess(event, 'Process1');", true);
                UpdatePanel2.Update();
                UpdatePanel1.Update();

            }
            if (e.CommandName == "Delete1")
            {
                int index = Convert.ToInt32(e.CommandArgument);
                DataTable dp = (DataTable)Session["GridRecord"];
                DataRow[] row1 = dp.Select("AutoId =" + index);
                foreach (var rows in row1)
                {
                    rows.Delete();
                }
                Session["GridRecord"] = dp;
                BindGrid();
                UpdatePanel1.Update();
            }

        }

        protected void btnClear_Click(object sender, EventArgs e)
        {
            clear();

        }
        public void clear()
        {
            txtrefre.Text =string.Empty;
            txtStaffNumber.Text = string.Empty;
            txtFirstName.Text = string.Empty;
            txtmiddlename1.Text = string.Empty;
            txtmiddlename2.Text = string.Empty;
            txtlastName.Text = string.Empty;
            txtAddress1.Text =string.Empty;
            txtAddress2.Text =string.Empty;
            txtAddress3.Text =string.Empty;
            txtAddress4.Text =string.Empty;
            txtAddress5.Text = string.Empty;
            txtEmailID.Text = string.Empty;
            txtBusinessMobile.Text = string.Empty;
            ddlAccountIdentifier.ClearSelection();
        }

    }
    }
}
//=== .cs page End ====//
